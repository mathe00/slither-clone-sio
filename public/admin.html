<!-- --- public/admin.html --- -->
<!doctype html>
<html lang="en">
  <!-- Default lang attribute -->
  <head>
    <meta charset="UTF-8" />
    <!-- Title will be set by i18next -->
    <title data-i18n="pageTitle">Admin - Slither Clone</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style-admin.css" />
    <link rel="stylesheet" href="style-admin-dynamic.css" />
    <!-- Add Favicon -->
    <link rel="icon" href="slither-logo.png" type="image/x-icon" />
    <!-- i18next libraries from CDN -->
    <script src="https://unpkg.com/i18next/i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend/i18nextHttpBackend.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.min.js"></script>
  </head>
  <body>
    <div class="admin-container">
      <!-- Back Button -->
      <a
        href="/"
        class="back-link-button"
        data-i18n="[title]backButtonTitle"
        title="Back to main page"
        >‚Üê</a
      >

      <!-- Tab Navigation -->
      <div class="admin-tabs">
        <button class="admin-tab-button active" data-tab="settings" data-i18n="tabs.settings">
          General Settings
        </button>
        <button class="admin-tab-button" data-tab="users" data-i18n="tabs.users">
          User Management
        </button>
        <button class="admin-tab-button" data-tab="current-config" data-i18n="tabs.currentConfig">
          Current Configuration
        </button>
      </div>

      <!-- Settings Tab Content -->
      <div id="tab-settings" class="admin-tab-content active">
        <h3 data-i18n="settingsForm.title">General Settings</h3>
        <div class="password-info" data-i18n="[html]settingsForm.passwordNote">
          <!-- Content replaced by i18next -->
        </div>

        <form id="adminForm">
          <div id="dynamic-form-container">
            <!-- Dynamic form will be generated here -->
          </div>

          <div id="feedbackMessage"></div>
          <!-- Feedback area -->

          <div class="admin-actions">
            <button type="submit" data-i18n="settingsForm.updateButton">Update Settings</button>
          </div>
        </form>
      </div>

      <!-- User Management Tab Content -->
      <div id="tab-users" class="admin-tab-content">
        <h3 data-i18n="userManagement.title">User Management</h3>
        <div id="userFeedback" style="margin-bottom: 15px"></div>
        <!-- Feedback for user actions -->
        <table id="userTable">
          <thead>
            <tr>
              <th data-i18n="userManagement.table.headerUser">User</th>
              <th data-i18n="userManagement.table.headerStatus">Status</th>
              <th data-i18n="userManagement.table.headerLastLogin">Last Login</th>
              <th data-i18n="userManagement.table.headerCreated">Created</th>
              <th data-i18n="userManagement.table.headerActions">Actions</th>
            </tr>
          </thead>
          <tbody id="userTableBody">
            <!-- User rows will be populated here -->
            <tr>
              <td
                colspan="5"
                style="text-align: center; color: #8e9297"
                data-i18n="userManagement.loading"
              >
                Loading...
              </td>
            </tr>
          </tbody>
        </table>
        <button id="pruneButton" class="btn-prune" data-i18n="userManagement.pruneButton">
          Prune Inactive Accounts
        </button>
      </div>

      <!-- Current Config Tab Content -->
      <div id="tab-current-config" class="admin-tab-content">
        <h3 data-i18n="currentConfig.title">Current Server Configuration</h3>
        <div id="currentConfigFeedback" style="margin-bottom: 15px"></div>
        <div id="currentConfigDisplay">
          <div class="config-loading" data-i18n="currentConfig.loading">
            Loading configuration...
          </div>
        </div>
      </div>

      <!-- Load the external script -->
      <script src="admin-logic.js" defer></script>
    </div>
  </body>
</html>
